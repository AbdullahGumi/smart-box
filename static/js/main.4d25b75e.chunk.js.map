{"version":3,"sources":["redux/image/image.types.js","redux/image/image.actions.js","redux/box/box.types.js","redux/box/box.actions.js","components/header/header.component.jsx","components/models-options/models-options.component.jsx","components/bounding-box/bounding-box.component.jsx","components/image-frame/image-frame.component.jsx","components/frame/frame.component.jsx","App.js","redux/image/image.reducer.js","redux/box/box.reducer.js","redux/root-reducer.js","redux/store.js","serviceWorker.js","index.js"],"names":["ImageActionTypes","setFileProperties","image","type","payload","BoxActionTypes","toggleBox","setFaceBoundary","box","setApparelBoundary","numberOfFaces","number","setBoundingBox","bounding","setApparelsInfo","info","setWithSpinner","spinner","Header","className","app","Clarifai","App","apiKey","connect","fileProperties","dispatch","facePostion","apparelPosition","setImageDimensions","dimensions","onClick","models","predict","FACE_DETECT_MODEL","base64","then","response","data","faceNumber","outputs","regions","length","map","faces","region_info","bounding_box","document","getElementById","width","clientWidth","height","clientHeight","face","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","calculateFace","err","console","log","conceptsArray","concepts","apparels","naturalWidth","naturalHeight","apparel","calculateApparel","boundingBox","location","key","style","top","left","bottom","right","faceBoundary","apparelBoundary","id","src","alt","faceCount","apparelsInfo","withSpinner","file","boundary","color","secondaryColor","value","name","Math","floor","particlesOptions","particles","density","enable","value_area","isBoxVisible","onDrop","acceptedFiles","fetch","URL","createObjectURL","res","blob","reader","FileReader","readAsDataURL","onloadend","base64String","result","split","pop","accept","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","additionalClass","params","INITIAL_STATE","imageDimensions","imageReducer","state","action","apparelsLabel","boxReducer","combineReducers","middlewares","thunk","logger","store","createStore","rootReducer","applyMiddleware","Boolean","window","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qYAAaA,EACW,sBADXA,EAEY,uBCCZC,EAAoB,SAAAC,GAAK,MAAK,CAC1CC,KAAMH,EACNI,QAASF,ICLGG,EACS,oBADTA,EAEY,uBAFZA,EAGE,aAHFA,EAIM,kBAJNA,EAKK,gBALLA,EAMK,iBANLA,EAOI,eAPJA,EAQI,eCNJC,EAAY,iBAAO,CAC/BH,KAAME,IAGME,EAAkB,SAACC,GAAD,MAAU,CACxCL,KAAME,EACND,QAASI,IAGGC,EAAqB,SAACD,GAAD,MAAU,CAC3CL,KAAME,EACND,QAASI,IAGGE,EAAgB,SAACC,GAAD,MAAa,CACzCR,KAAME,EACND,QAASO,IAQGC,EAAiB,SAACC,GAAD,MAAe,CAC5CV,KAAME,EACND,QAASS,IAGGC,EAAkB,SAACC,GAAD,MAAW,CACzCZ,KAAME,EACND,QAASW,IAIGC,EAAiB,SAACC,GAAD,MAAc,CAC3Cd,KAAME,EACND,QAASa,IC7BKC,G,OANA,kBACd,yBAAKC,UAAW,UACf,4C,mCCKIC,G,OAAM,IAAIC,IAASC,IAAI,CAC5BC,OAAQ,sCAyGMC,eAdS,SAAC,GAAD,MAAgC,CACvDC,eADuB,EAAEvB,MAAQuB,mBAIP,SAAAC,GAAQ,MAAK,CACvCnB,gBAAiB,SAACoB,GAAD,OAAiBD,EAASnB,EAAgBoB,KAC3DlB,mBAAoB,SAACmB,GAAD,OAAqBF,EAASjB,EAAmBmB,KACrElB,cAAe,SAACC,GAAD,OAAYe,EAAShB,EAAcC,KAClDG,gBAAiB,SAACH,GAAD,OAAYe,EAASZ,EAAgBH,KACtDC,eAAgB,SAACC,GAAD,OAAca,EAASd,EAAeC,KACtDG,eAAgB,SAACC,GAAD,OAAaS,EAASV,EAAeC,KACrDY,mBAAoB,SAACC,GAAD,OAAgBJ,EJ1GH,SAAAI,GAAU,MAAK,CAChD3B,KAAMH,EACNI,QAAS0B,GIwGoCD,CAAmBC,QAGlDN,EAtGO,SAAC,GAAgJ,IAA9IjB,EAA6I,EAA7IA,gBAAiBE,EAA4H,EAA5HA,mBAAoBgB,EAAwG,EAAxGA,eAAgBf,EAAwF,EAAxFA,cAAeE,EAAyE,EAAzEA,eAAgBE,EAAyD,EAAzDA,gBAAiBE,EAAwC,EAAxCA,eAAwC,EAAxBa,mBAgF7I,OACC,yBAAKV,UAAU,iBACb,4BAAQY,QAlCQ,WACff,GAAe,GAClBI,EAAIY,OAAOC,QAAQZ,IAASa,kBAAmB,CAACC,OAAQV,IAAiBW,MACtE,SAACC,GACE9B,EA3Be,SAAC+B,GACrB,IAAMC,EAAaD,EAAKE,QAAQ,GAAGF,KAAKG,QAAQC,OAChDhC,EAAc6B,GACd,IAAMC,EAAUF,EAAKE,QAAQ,GAAGF,KAAKG,QAAQE,KAAI,SAACC,GAAD,OAAWA,EAAMC,YAAYC,gBAC9ElC,EAAe4B,GACf,IAAMtC,EAAQ6C,SAASC,eAAe,cAChCC,EAAQ/C,EAAMgD,YACdC,EAASjD,EAAMkD,aAWrB,OAVuBZ,EAAQG,KAAI,SAACU,GAClC,MAAO,CACNC,QAASD,EAAKE,SAAWN,EACzBO,OAAQH,EAAKI,QAAUN,EACvBO,SAAUT,EAASI,EAAKM,UAAYV,EACpCW,UAAWT,EAASE,EAAKQ,WAAaV,MAcpBW,CAAczB,IAC9BrB,GAAe,MAGlB,SAAC+C,GACEC,QAAQC,IAAI,qBAAsBF,MAGtCjD,EAAgB,IAClBL,EAAmB,MAqBjB,eACE,4BAAQsB,QAnBU,WACtBf,GAAe,GACbI,EAAIY,OAAOC,QAAQ,mCAAoC,CAACE,OAAQV,IAAiBW,MAChF,SAACC,GACA2B,QAAQC,IAAI,0BAA0B5B,GACpC5B,EAnEmB,SAAC6B,GACzB,IAAM4B,EAAgB5B,EAAKE,QAAQ,GAAGF,KAAKG,QAAQE,KAAI,SAAAwB,GAAQ,OAAIA,EAAS7B,KAAK6B,YACjFrD,EAAgBoD,GAGhB,IAAM1B,EAAUF,EAAKE,QAAQ,GAAGF,KAAKG,QAAQE,KAAI,SAAAyB,GAAQ,OAAIA,EAASvB,YAAYC,gBAClFkB,QAAQC,IAAIzB,GACZ5B,EAAe4B,GACf,IAAMtC,EAAQ6C,SAASC,eAAe,cACtCgB,QAAQC,IAAI,mBAAoB/D,EAAMmE,aAAcnE,EAAMoE,eAC1D,IAAMrB,EAAQ/C,EAAMmE,aACdlB,EAASjD,EAAMoE,cASrB,OARyB9B,EAAQG,KAAI,SAAA4B,GACnC,MAAO,CACNjB,QAASiB,EAAQhB,SAAWN,EAC5BO,OAAQe,EAAQd,QAAUN,EAC1BO,SAAUT,EAASsB,EAAQZ,UAAYV,EACvCW,UAAWT,EAASoB,EAAQV,WAAaV,MAkDpBqB,CAAiBnC,IACpCrB,GAAe,MAGlB,SAAC+C,GACEC,QAAQC,IAAI,qBAAsBF,MAGxCxD,EAAgB,IAChBG,EAAc,KAKV,uBC3ESc,G,OAAAA,aAJS,SAAC,GAAD,MAA2B,CAClDiD,YADuB,EAAEjE,IAAMiE,eAIjBjD,EAnBK,SAAC,GAAoB,IAAlBiD,EAAiB,EAAjBA,YAChBvE,EAAQ6C,SAASC,eAAe,cAChCC,EAAQ/C,EAAMgD,YACdC,EAASjD,EAAMkD,aACrB,OACCqB,EAAY9B,KAAI,SAAA+B,GAAQ,OAAI,yBAAKvD,UAAU,eAAewD,IAAKD,EAASjB,QAASmB,MAAO,CACvFC,IAAKH,EAASjB,QAAUN,EACxB2B,KAAMJ,EAASnB,SAAWN,EAC1B8B,OAAQ5B,EAASuB,EAASb,WAAaV,EACvC6B,MAAO/B,EAAQyB,EAASf,UAAYV,YCkBxBzB,G,OAAAA,aANS,SAAC,GAAD,IAAUC,EAAV,EAAEvB,MAAQuB,eAAV,IAA2BjB,IAA3B,MAAsE,CAC7FiB,iBACAwD,aAFuB,EAAgCA,aAGvDC,gBAHuB,EAA8CA,mBAMvD1D,EAvBI,SAAC,GAAD,IAAGC,EAAH,EAAGA,eAAgBwD,EAAnB,EAAmBA,aAAcC,EAAjC,EAAiCA,gBAAjC,OAClB,yBAAK/D,UAAW,aACd,yBAAKgE,GAAG,aACNlC,MAAQ,QACRE,OAAS,QACTwB,IAAG,UAAKlD,GACR2D,IAAG,iCAA4B3D,GAC/B4D,IAAK,WACJJ,EAAavC,OAAS,GACtB,kBAAC,EAAD,MAEDwC,EAAgBxC,OAAS,GACzB,kBAAC,EAAD,WC2DUlB,G,OAAAA,aAnBS,SAAC,GAAD,QAAEhB,IAAF,MAAoD,CAC3E8E,UADuB,EAAOA,UAE9BC,aAFuB,EAAkBA,aAGzCC,YAHuB,EAAgCA,gBAM7B,SAAA9D,GAAQ,MAAK,CACvCpB,UAAW,kBAAMoB,EAASpB,MAC1BL,kBAAmB,SAACwF,GAAD,OAAU/D,EAASzB,EAAkBwF,KACxDlF,gBAAiB,SAACmF,GAAD,OAAchE,EAASnB,EAAgBmF,KACxDjF,mBAAoB,SAACiF,GAAD,OAAchE,EAASjB,EAAmBiF,KAC9DhF,cAAe,SAACC,GAAD,OAAYe,EAAShB,EAAcC,KAClDC,eAAgB,SAACC,GAAD,OAAca,EAASd,EAAeC,KACtDC,gBAAiB,SAACC,GAAD,OAAUW,EAASZ,EAAgBC,KACpDC,eAAgB,SAACC,GAAD,OAAaS,EAASV,EAAeC,QAKvCO,EAlED,SAAC,GAAgL,IAA9K8D,EAA6K,EAA7KA,UAAWC,EAAkK,EAAlKA,aAAcjF,EAAoJ,EAApJA,UAAWC,EAAyI,EAAzIA,gBAAiBE,EAAwH,EAAxHA,mBAAoBC,EAAoG,EAApGA,cAAeT,EAAqF,EAArFA,kBAAmBW,EAAkE,EAAlEA,eAAgBE,EAAkD,EAAlDA,gBAAiBE,EAAiC,EAAjCA,eAAgBwE,EAAiB,EAAjBA,YAY5K,OACC,yBAAKrE,UAAW,SACd,yBAAKA,UAAW,eACf,4BAAQY,QAbO,WAClBf,GAAe,GACff,IACAK,IACAC,EAAgB,IAChBE,EAAmB,IACnBC,EAAc,GACdE,EAAe,IACfE,EAAgB,MAKb,MAED,yBAAKK,UAAW,eACf,kBAAC,EAAD,OAED,yBAAKA,UAAW,eACZmE,EAAY,GAAKC,EAAa7C,OAAS,GAAoB,IAAhB8C,EAC5C,wEAAmD,KAEnDF,EAAY,GACZ,kDAAwBA,EAAxB,UAEc,IAAdA,GACA,kDAAwBA,EAAxB,UAEgB,IAAhBE,EACA,yBAAKrE,UAAW,WACV,kBAAC,IAAD,CAAQhB,KAAK,YAAYwF,MAAM,UAAUC,eAAiB,aAG5DL,EAAa7C,OAAS,GACxB,yBAAKvB,UAAY,iBAChB,mCAAQ,0BAAMA,UAAY,iBAAiBoE,EAAa5C,KAAI,SAACwB,GAAD,OAAc,uBAAGQ,IAAOR,EAAS,GAAG0B,OAAQ1B,EAAS,GAAG2B,KAA1C,UAC1E,yCAAc,0BAAM3E,UAAY,kBAAkBoE,EAAa5C,KAAI,SAACwB,GAAD,OAAc,uBAAGQ,IAAOR,EAAS,GAAG0B,OAAQE,KAAKC,MAA0B,IAApB7B,EAAS,GAAG0B,OAArD,YAKrF,kBAAC,EAAD,YC3CAI,G,OAAmB,CACxBC,UAAW,CACVvF,OAAQ,CACPkF,MAAO,IACPM,QAAS,CACRC,QAAQ,EACRC,WAAY,SAyDD7E,eAVS,SAAC,GAAD,MAAyD,CAChFC,eADuB,EAAEvB,MAASuB,eAElC6E,aAFuB,EAA6B9F,IAAO8F,iBAKjC,SAAA5E,GAAQ,MAAK,CACvCzB,kBAAmB,SAACC,GAAD,OAAWwB,EAASzB,EAAkBC,KACzDI,UAAW,kBAAMoB,EAASpB,SAGZkB,EAnDH,SAAC,GAAmE,EAAjEC,eAAkE,IAAlDnB,EAAiD,EAAjDA,UAAWL,EAAsC,EAAtCA,kBAAmBqG,EAAmB,EAAnBA,aAe5D,OACC,yBAAKnF,UAAU,QACd,kBAAC,EAAD,MACEmF,EACD,kBAAC,EAAD,MAED,kBAAC,IAAD,CAAWC,OAnBM,SAAAC,GAClBC,MAAMD,EAAc7D,KAAI,SAAA8C,GAAI,OAAIiB,IAAIC,gBAAgBlB,OACnDrD,MAAK,SAAAwE,GAAG,OAAIA,EAAIC,UAChBzE,MAAK,SAAAyE,GACF,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,cAAcH,GACrBC,EAAOG,UAAY,WACnB,IAAIC,EAAeJ,EAAOK,OAAOC,MAAM,KAAKC,MAC5CpH,EAAkBiH,OAEtB5G,KASgCgH,OAAO,YAC9B,YAA+E,IAA5EC,EAA2E,EAA3EA,aAAcC,EAA6D,EAA7DA,cAAeC,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAErDC,EAAkBF,EAAe,SAAWC,EAAe,SAAW,GAC5E,OACE,wBAAQJ,EAAa,CAACpG,UAAU,YAAD,OAAcyG,KAC1C,0BAAWJ,KACX,wFACA,8BAAOC,EAAe,eAAO,gBAC7B,6EAMd,kBAAC,IAAD,CAAWtG,UAAU,YAAY0G,OAAQ5B,Q,0CC3DtC6B,EAAgB,CACrBrG,eAAgB,GAChBsG,gBAAiB,CAAE9E,MAAO,EAAGE,OAAQ,IAqBvB6E,EAnBM,WAAoC,IAAnCC,EAAkC,uDAA1BH,EAAeI,EAAW,uCACvD,OAAQA,EAAO/H,MACd,KAAKH,EACJ,OAAO,2BACHiI,GADJ,IAECxG,eAAgByG,EAAO9H,UAEzB,KAAKJ,EACJ,OAAO,2BACHiI,GADJ,IAECF,gBAAiBG,EAAO9H,UAG1B,QACC,OAAO6H,IClBJH,EAAgB,CACrBxB,cAAc,EACdrB,aAAc,GACdC,gBAAiB,GACjBI,UAAW,EACXC,aAAc,GACd4C,cAAe,GACf1D,YAAa,GACbe,aAAa,GAoDC4C,EAjDI,WAAoC,IAAnCH,EAAkC,uDAA1BH,EAAeI,EAAW,uCAErD,OADAlE,QAAQC,IAAI,yBAAyBgE,GAC7BC,EAAO/H,MACd,KAAKE,EACJ,OAAO,2BACH4H,GADJ,IAEC3B,cAAe2B,EAAM3B,eAEvB,KAAKjG,EACJ,OAAO,2BACH4H,GADJ,IAEChD,aAAciD,EAAO9H,UAEvB,KAAKC,EACJ,OAAO,2BACH4H,GADJ,IAEC/C,gBAAiBgD,EAAO9H,UAE1B,KAAKC,EACJ,OAAO,2BACH4H,GADJ,IAEC3C,UAAW4C,EAAO9H,UAEpB,KAAKC,EACJ,OAAO,2BACH4H,GADJ,IAEC1C,aAAc2C,EAAO9H,UAEvB,KAAKC,EACJ,OAAO,2BACH4H,GADJ,IAECE,cAAeD,EAAO9H,UAExB,KAAKC,EACJ,OAAO,2BACH4H,GADJ,IAECxD,YAAayD,EAAO9H,UAEtB,KAAKC,EACJ,OAAO,2BACH4H,GADJ,IAECzC,YAAa0C,EAAO9H,UAEtB,QACC,OAAO6H,ICrDKI,cAAgB,CAC9BnI,MAAO8H,EACPxH,IAAK4H,ICAAE,EAAc,CAACC,IAAOC,KAIbC,EAFDC,YAAYC,EAAaC,IAAe,WAAf,EAAmBN,ICItCO,QACW,cAA7BC,OAAOpE,SAASqE,UAEe,UAA7BD,OAAOpE,SAASqE,UAEhBD,OAAOpE,SAASqE,SAASC,MACvB,2D,OCPNC,IAASC,OACR,kBAAC,IAAD,CAAUT,MAAOA,GAChB,kBAAC,EAAD,OAEC1F,SAASC,eAAe,SDkHrB,kBAAmBmG,WACrBA,UAAUC,cAAcC,MAAMjH,MAAK,SAAAkH,GACjCA,EAAaC,kB","file":"static/js/main.4d25b75e.chunk.js","sourcesContent":["export const ImageActionTypes = {\r\n\t'SET_FILE_PROPERTIES': 'SET_FILE_PROPERTIES',\r\n\t'SET_IMAGE_DIMENSIONS': 'SET_IMAGE_DIMENSIONS'\r\n}\t\t","import { ImageActionTypes } from './image.types';\r\n\r\n\r\nexport const setFileProperties = image => ({\r\n\ttype: ImageActionTypes.SET_FILE_PROPERTIES,\r\n\tpayload: image\r\n})\r\n\r\nexport const setImageDimensions = dimensions => ({\r\n\ttype: ImageActionTypes.SET_IMAGE_DIMENSIONS,\r\n\tpayload: dimensions\r\n})\r\n","export const BoxActionTypes = {\r\n\t'SET_FACE_BOUNDARY': 'SET_FACE_BOUNDARY',\r\n\t'SET_APPAREL_BOUNDARY': 'SET_APPAREL_BOUNDARY',\r\n\t'TOGGLE_BOX': 'TOGGLE_BOX',\r\n\t'NUMBER_OF_FACES':'NUMBER_OF_FACES',\r\n\t'APPARELS_INFO': 'APPARELS_INFO',\r\n\t'APPARELS_LABEL':'APPARELS_LABEL',\r\n\t'BOUNDING_BOX': 'BOUNDING_BOX',\r\n\t'WITH_SPINNER': 'WITH_SPINNER'\r\n}\t\t","import { BoxActionTypes } from './box.types'\r\n\r\nexport const toggleBox = () => ({\r\n\ttype: BoxActionTypes.TOGGLE_BOX\r\n})\r\n\r\nexport const setFaceBoundary = (box) => ({\r\n\ttype: BoxActionTypes.SET_FACE_BOUNDARY,\r\n\tpayload: box\r\n})\r\n\r\nexport const setApparelBoundary = (box) => ({\r\n\ttype: BoxActionTypes.SET_APPAREL_BOUNDARY,\r\n\tpayload: box\r\n})\r\n\r\nexport const numberOfFaces = (number) => ({\r\n\ttype: BoxActionTypes.NUMBER_OF_FACES,\r\n\tpayload: number\r\n})\r\n\r\nexport const setApparelsLabel = (labels) => ({\r\n\ttype: BoxActionTypes.APPARELS_LABEL,\r\n\tpayload: labels\r\n})\r\n\r\nexport const setBoundingBox = (bounding) => ({\r\n\ttype: BoxActionTypes.BOUNDING_BOX,\r\n\tpayload: bounding\r\n})\r\n\r\nexport const setApparelsInfo = (info) => ({\r\n\ttype: BoxActionTypes.APPARELS_INFO,\r\n\tpayload: info\r\n})\r\n\r\n\r\nexport const setWithSpinner = (spinner) => ({\r\n\ttype: BoxActionTypes.WITH_SPINNER,\r\n\tpayload: spinner\r\n})\r\n\r\n","import React from 'react';\r\n\r\nimport './header.styles.css';\r\n\r\nconst Header = ()=> (\r\n\t<div className ='header'>\r\n\t\t<h1>SMART BOX</h1>\r\n\t</div>\r\n\t);\r\n\r\nexport default Header;\r\n\r\n\r\n","import React from 'react';\r\n\r\n// import { trackPromise } from 'react-promise-tracker';\r\nimport Clarifai from 'clarifai';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setFaceBoundary, setApparelBoundary, numberOfFaces, setBoundingBox, setApparelsInfo, setWithSpinner } from '../../redux/box/box.actions';\r\nimport { setImageDimensions } from '../../redux/image/image.actions.js';\r\n\r\nimport './models-options.styles.css';\r\n\r\nconst app = new Clarifai.App({\r\n\tapiKey: '3433c425ee5242de9459ae5f670f07f7'\r\n\t});\r\n\r\nconst ModelsOptions = ({ setFaceBoundary, setApparelBoundary, fileProperties, numberOfFaces, setBoundingBox, setApparelsInfo, setWithSpinner, setImageDimensions })=> {\r\n\r\n\t\tconst calculateApparel = (data) => {\r\n\t\t\tconst conceptsArray = data.outputs[0].data.regions.map(concepts => concepts.data.concepts);\r\n\t\t\tsetApparelsInfo(conceptsArray)\r\n\t\t\t// const apparelPercentage = data.outputs[0].data.regions.filter(percentage => percentage.value >= 0.5)\r\n\t\t\t// const outputs = apparelPercentage.map(apparels => apparels.region_info.bounding_box);\r\n\t\t\tconst outputs = data.outputs[0].data.regions.map(apparels => apparels.region_info.bounding_box);\r\n\t\t\tconsole.log(outputs);\r\n\t\t\tsetBoundingBox(outputs)\r\n\t\t\tconst image = document.getElementById(\"inputImage\");\r\n\t\t\tconsole.log('image dimensions' ,image.naturalWidth, image.naturalHeight);\r\n\t\t\tconst width = image.naturalWidth;\r\n\t\t\tconst height = image.naturalHeight;\r\n\t\t\tconst apparelsLoaction = outputs.map(apparel => { \r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tleftCol: apparel.left_col * width,\r\n\t\t\t\t\t\ttopRow: apparel.top_row * height,\r\n\t\t\t\t\t\trightCol: width -  apparel.right_col * width,\r\n\t\t\t\t\t\tbottomRow: height - apparel.bottom_row * height\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn apparelsLoaction;\r\n\t}\r\n\r\n\tconst calculateFace = (data) => {\r\n\t\t\tconst faceNumber = data.outputs[0].data.regions.length;\r\n\t\t\tnumberOfFaces(faceNumber);\r\n\t\t\tconst outputs = data.outputs[0].data.regions.map((faces) => faces.region_info.bounding_box);\r\n\t\t\tsetBoundingBox(outputs);\r\n\t\t\tconst image = document.getElementById(\"inputImage\");\r\n\t\t\tconst width = image.clientWidth;\r\n\t\t\tconst height = image.clientHeight;\r\n\t\t\tconst faceCordinates = outputs.map((face) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tleftCol: face.left_col * width,\r\n\t\t\t\t\t\ttopRow: face.top_row * height,\r\n\t\t\t\t\t\trightCol: width -  face.right_col * width,\r\n\t\t\t\t\t\tbottomRow: height - face.bottom_row * height,\r\n\t\t\t\t\t\t// boxHeight: height - ((height - face.bottom_row * height) + (face.top_row * height))\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn faceCordinates;\r\n\t\t}\r\n\r\n\r\n\r\n\tconst detectFace = () => {\r\n   \t\tsetWithSpinner(true)\r\n\t\tapp.models.predict(Clarifai.FACE_DETECT_MODEL, {base64: fileProperties}).then(\r\n    \t(response) => {\r\n      \t\tsetFaceBoundary(calculateFace(response));\r\n      \t\tsetWithSpinner(false)\r\n\r\n    \t},\r\n    \t(err) => {\r\n      \t\tconsole.log('There was an error', err);\r\n    \t}\r\n  \t\t\t);\r\n  \t\tsetApparelsInfo({});\r\n\t\tsetApparelBoundary({});\r\n\t}\r\n\r\n\tconst detectApparels = () => {\r\n\t\tsetWithSpinner(true)\r\n  \t\tapp.models.predict('72c523807f93e18b431676fb9a58e6ad', {base64: fileProperties}).then(\r\n    \t(response) => {    \t\t\r\n    \t\tconsole.log('response at the  models',response)\r\n      \t\tsetApparelBoundary(calculateApparel(response));\r\n      \t\tsetWithSpinner(false)\r\n\r\n    \t},\r\n    \t(err) => {\r\n      \t\tconsole.log('There was an error', err);\r\n    \t}\r\n  \t\t\t);\t\t\t\t\r\n\t\tsetFaceBoundary({});\r\n\t\tnumberOfFaces(0)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"models-button\">\r\n\t\t  <button onClick={detectFace}>Detect Face</button>\r\n  \t\t  <button onClick={detectApparels}>Detect Apparels</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({image: {fileProperties}}) => ({\r\n\tfileProperties\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tsetFaceBoundary: (facePostion) => dispatch(setFaceBoundary(facePostion)),\r\n\tsetApparelBoundary: (apparelPosition) => dispatch(setApparelBoundary(apparelPosition)),\r\n\tnumberOfFaces: (number) => dispatch(numberOfFaces(number)),\r\n\tsetApparelsInfo: (number) => dispatch(setApparelsInfo(number)),\r\n\tsetBoundingBox: (bounding) => dispatch(setBoundingBox(bounding)),\r\n\tsetWithSpinner: (spinner) => dispatch(setWithSpinner(spinner)),\r\n\tsetImageDimensions: (dimensions) => dispatch(setImageDimensions(dimensions)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModelsOptions);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport './bounding-box.styles.css';\r\n\r\nconst BoundingBox = ({ boundingBox}) => {\r\n const image = document.getElementById('inputImage');\r\n const width = image.clientWidth;\r\n const height = image.clientHeight\r\n\treturn (\r\n\t\tboundingBox.map(location => <div className='bounding-box' key={location.top_row} style={{ \r\n\t\t top: location.top_row * height,\r\n\t\t left: location.left_col * width ,\r\n\t\t bottom: height - location.bottom_row * height,\r\n\t\t right: width - location.right_col * width\r\n\t\t}} \r\n\t\t/>)\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = ({box: {boundingBox}}) => ({\r\n\tboundingBox,\r\n})\r\n\r\nexport default connect(mapStateToProps)(BoundingBox);\r\n","import React from 'react';\r\n\r\nimport BoundingBox from '../bounding-box/bounding-box.component.jsx'\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport './image-frame.styles.css';\r\n\r\nconst ImageFrame = ({ fileProperties, faceBoundary, apparelBoundary })=> (\r\n\t<div className ='image-div'>\r\n\t\t\t<img id=\"inputImage\" \r\n\t\t\t\t\twidth = '500px'\r\n\t\t\t\t\theight = '500px'\r\n\t\t\t\t\tkey={`${fileProperties}`} \r\n\t\t\t\t\tsrc={`data:image/png;base64, ${fileProperties}`} \r\n\t\t\t\t\talt =\"sample\"/>\r\n\t\t\t\t\t{faceBoundary.length > 0 && \r\n\t\t\t\t\t\t<BoundingBox />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t{apparelBoundary.length > 0 && \r\n\t\t\t\t\t<BoundingBox />\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t</div>\r\n\t);\r\nconst mapStateToProps = ({image: {fileProperties}, box:{faceBoundary, apparelBoundary} }) => ({\r\n\tfileProperties,\r\n\tfaceBoundary,\r\n\tapparelBoundary\r\n})\r\n\r\nexport default connect(mapStateToProps)(ImageFrame);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport { setFaceBoundary, setApparelBoundary, numberOfFaces, setBoundingBox, setApparelsInfo, toggleBox, setWithSpinner } from '../../redux/box/box.actions';\r\nimport { setFileProperties } from '../../redux/image/image.actions.js';\r\n\r\nimport ModelsOptions from '../models-options/models-options.component.jsx';\r\nimport ImageFrame from '../image-frame/image-frame.component';\r\n\r\nimport './frame.styles.css';\r\n\r\n\r\nconst Frame = ({ faceCount, apparelsInfo, toggleBox, setFaceBoundary, setApparelBoundary, numberOfFaces, setFileProperties, setBoundingBox, setApparelsInfo, setWithSpinner, withSpinner })=> {\r\n\t\r\n\tconst closeFrame = () => {\r\n\t\tsetWithSpinner(false);\r\n\t\tsetFileProperties();\r\n\t\ttoggleBox();\r\n\t\tsetFaceBoundary({});\r\n\t\tsetApparelBoundary({});\r\n\t\tnumberOfFaces(0);\r\n\t\tsetBoundingBox({});\r\n\t\tsetApparelsInfo({});\r\n\t}\r\n\treturn (\r\n\t\t<div className ='frame'>\r\n\t\t\t\t<div className =\"close-frame\">\r\n\t\t\t\t\t<button onClick={closeFrame}>X</button>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div className =\"image-frame\">\r\n\t\t\t\t\t<ImageFrame />\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div className =\"info-frame\">\r\n\t\t\t\t\t\t{!faceCount > 0 & !apparelsInfo.length > 0 & withSpinner === false ?\r\n\t\t\t\t\t\t\t<h4>Select one of the models below to start.</h4>: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{faceCount > 1 &&\r\n\t\t\t\t\t\t\t<span>I have detected  {faceCount} faces</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{faceCount === 1  &&\r\n\t\t\t\t\t\t\t<span>I have detected  {faceCount} face</span>\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\t{withSpinner === true ? (\r\n\t\t\t\t\t\t\t<div className= 'spinner'>\r\n\t\t\t\t\t\t\t      <Loader type=\"ThreeDots\" color=\"#778899\" secondaryColor = '#778899'  />\r\n\t\t\t\t\t\t   </div>\r\n\t\t\t\t\t\t\t    ) : (\r\n\t\t\t\t\t\t\t    apparelsInfo.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t<div className = 'apparels-info'>\r\n\t\t\t\t\t\t\t\t\t\t<h4>Name<span className = 'apparels-name'>{apparelsInfo.map((concepts) => <p key = {concepts[0].value}>{concepts[0].name}:</p>)}</span></h4>\r\n\t\t\t\t\t\t\t\t\t\t<h4>Probabilty<span className = 'apparels-value'>{apparelsInfo.map((concepts) => <p key = {concepts[0].value}>{Math.floor(concepts[0].value * 100)} %</p>)}</span></h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<ModelsOptions />\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t);}\r\nconst mapStateToProps = ({box:{faceCount, apparelsInfo, withSpinner} }) => ({\r\n\tfaceCount,\r\n\tapparelsInfo,\r\n\twithSpinner \r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\ttoggleBox: () => dispatch(toggleBox()),\r\n\tsetFileProperties: (file) => dispatch(setFileProperties(file)),\r\n\tsetFaceBoundary: (boundary) => dispatch(setFaceBoundary(boundary)),\r\n\tsetApparelBoundary: (boundary) => dispatch(setApparelBoundary(boundary)),\r\n\tnumberOfFaces: (number) => dispatch(numberOfFaces(number)),\r\n\tsetBoundingBox: (bounding) => dispatch(setBoundingBox(bounding)),\r\n\tsetApparelsInfo: (info) => dispatch(setApparelsInfo(info)),\r\n\tsetWithSpinner: (spinner) => dispatch(setWithSpinner(spinner)),\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Frame);","import React from 'react';\r\n\r\nimport Particles from 'react-particles-js';\r\nimport Dropzone from 'react-dropzone';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setFileProperties } from './redux/image/image.actions';\r\nimport { toggleBox } from './redux/box/box.actions';\r\nimport Header from './components/header/header.component.jsx';\r\n// import Modal from './components/modal/modal.component';\r\nimport Frame from './components/frame/frame.component';\r\nimport './App.css';\r\n \r\nconst particlesOptions = {\r\n\tparticles: {\r\n\t\tnumber: {\r\n\t\t\tvalue: 100,\r\n\t\t\tdensity: {\r\n\t\t\t\tenable: true,\r\n\t\t\t\tvalue_area: 800\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst App = ({ fileProperties, toggleBox, setFileProperties, isBoxVisible }) => {\r\n\r\n\tconst handleDrop = acceptedFiles => {\r\n\t\tfetch(acceptedFiles.map(file => URL.createObjectURL(file)))\r\n\t\t.then(res => res.blob())\r\n\t\t.then(blob => {\r\n\t\t    var reader = new FileReader(); \r\n\t\t    reader.readAsDataURL(blob); \r\n\t\t    reader.onloadend = function () {\r\n\t\t    var base64String = reader.result.split(',').pop(); \r\n\t\t    setFileProperties(base64String);\r\n\t\t}})\r\n\t\ttoggleBox();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"main\">\t\r\n\t\t\t<Header/>\r\n\t\t\t{ isBoxVisible ?\r\n\t\t\t\t<Frame />\r\n\t\t\t:\r\n\t\t\t<Dropzone  onDrop={handleDrop} accept=\"image/*\">\r\n\t\t        {({ getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject}) => {\r\n\t\t          // additional CSS depends on dragging status\r\n\t\t          const additionalClass = isDragAccept ? \"accept\" : isDragReject ? \"reject\" : \"\";\r\n\t\t          return (\r\n\t\t            <div{...getRootProps({className: `dropzone ${additionalClass}` })} >\r\n\t\t\t              <input {...getInputProps()} />\r\n\t\t\t              <h2>I CAN DETECT FACES & APPARELS IN AN IMAGE. GIVE ME A TRY</h2>\r\n\t\t\t              <span>{isDragActive ? \"📂\" : \"📁\"}</span>\r\n\t\t\t              <p>Drag and drop an image, or click to start </p>\r\n\t\t            </div>\r\n\t\t          );\r\n\t\t       }}\r\n     \t    </Dropzone>\r\n\t\t\t}\r\n\t\t\t<Particles className=\"particles\" params={particlesOptions}/>\r\n\t\t</div>\r\n\t);\t\r\n}\r\n\r\nconst mapStateToProps = ({image: { fileProperties }, box: { isBoxVisible }}) => ({\r\n\tfileProperties,\r\n\tisBoxVisible,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tsetFileProperties: (image) => dispatch(setFileProperties(image)),\r\n\ttoggleBox: () => dispatch(toggleBox())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import { ImageActionTypes } from './image.types';\r\n\r\nconst INITIAL_STATE = {\r\n\tfileProperties: '',\r\n\timageDimensions: { width: 0, height: 0 }\r\n}\r\nconst imageReducer = (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ImageActionTypes.SET_FILE_PROPERTIES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfileProperties: action.payload\r\n\t\t\t}\r\n\t\tcase ImageActionTypes.SET_IMAGE_DIMENSIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timageDimensions: action.payload\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nexport default imageReducer;","import { BoxActionTypes } from './box.types'\r\n\r\nconst INITIAL_STATE = {\r\n\tisBoxVisible: false,\r\n\tfaceBoundary: {},\r\n\tapparelBoundary: {},\r\n\tfaceCount: 0,\r\n\tapparelsInfo: {},\r\n\tapparelsLabel: [],\r\n\tboundingBox: {},\r\n\twithSpinner: false\r\n}\r\n\r\nconst boxReducer = (state = INITIAL_STATE, action) => {\r\n\tconsole.log('state at box reducer: ',state);\r\n\tswitch (action.type) {\r\n\t\tcase BoxActionTypes.TOGGLE_BOX:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisBoxVisible: !state.isBoxVisible\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_FACE_BOUNDARY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfaceBoundary: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_APPAREL_BOUNDARY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapparelBoundary: action.payload\r\n\t\t\t}\t\t\r\n\t\tcase BoxActionTypes.NUMBER_OF_FACES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfaceCount: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.APPARELS_INFO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapparelsInfo: action.payload\r\n\t\t\t}\t\t\t\r\n\t\tcase BoxActionTypes.APPARELS_LABEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapparelsLabel: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.BOUNDING_BOX:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tboundingBox: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.WITH_SPINNER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\twithSpinner: action.payload\r\n\t\t\t}\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nexport default boxReducer;","import { combineReducers } from 'redux';\r\nimport imageReducer from './image/image.reducer';\r\nimport boxReducer from './box/box.reducer';\r\n\r\nexport default combineReducers({\r\n\timage: imageReducer,\r\n\tbox: boxReducer\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './root-reducer';\r\n\r\nconst middlewares = [thunk, logger];\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\n\nimport store from './redux/store';\n\nimport * as serviceWorker from './serviceWorker';\nimport 'tachyons';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App/>\n\t</Provider>\n\t, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();  \n "],"sourceRoot":""}