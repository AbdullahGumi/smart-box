(this["webpackJsonpsmart-box"]=this["webpackJsonpsmart-box"]||[]).push([[0],{104:function(e,t,n){e.exports=n(387)},109:function(e,t,n){},325:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),c=n.n(o),i=(n(109),n(97)),l=n.n(i),u=n(103),s=n(11),p="SET_FILE_PROPERTIES",f=function(e){return{type:p,payload:e}},m="SET_FACE_BOUNDARY",d="SET_APPAREL_BOUNDARY",b="TOGGLE_BOX",g="NUMBER_OF_FACES",h="APPARELS_INFO",E="APPARELS_LABEL",y="BOUNDING_BOX",B="WITH_SPINNER",v=function(){return{type:b}},O=function(e){return{type:m,payload:e}},w=function(e){return{type:d,payload:e}},x=function(e){return{type:g,payload:e}},A=function(e){return{type:y,payload:e}},_=function(e){return{type:h,payload:e}},P=function(e){return{type:B,payload:e}},j=(n(325),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"SMART BOX"))}),I=n(100),N=n.n(I),R=n(53),F=n.n(R),S=(n(381),new F.a.App({apiKey:"3433c425ee5242de9459ae5f670f07f7"})),C=Object(s.b)((function(e){return{fileProperties:e.image.fileProperties}}),(function(e){return{setFaceBoundary:function(t){return e(O(t))},setApparelBoundary:function(t){return e(w(t))},numberOfFaces:function(t){return e(x(t))},setApparelsInfo:function(t){return e(_(t))},setBoundingBox:function(t){return e(A(t))},setWithSpinner:function(t){return e(P(t))}}}))((function(e){var t=e.setFaceBoundary,n=e.setApparelBoundary,a=e.fileProperties,o=e.numberOfFaces,c=e.setBoundingBox,i=e.setApparelsInfo,l=e.setWithSpinner;return r.a.createElement("div",{className:"models-button"},r.a.createElement("button",{onClick:function(){l(!0),S.models.predict(F.a.FACE_DETECT_MODEL,{base64:a}).then((function(e){t(function(e){var t=e.outputs[0].data.regions.length;o(t);var n=e.outputs[0].data.regions.map((function(e){return e.region_info.bounding_box}));c(n);var a=document.getElementById("inputImage"),r=a.clientWidth,i=a.clientHeight;return n.map((function(e){return{leftCol:e.left_col*r,topRow:e.top_row*i,rightCol:r-e.right_col*r,bottomRow:i-e.bottom_row*i}}))}(e)),l(!1)}),(function(e){console.log("There was an error",e)})),i({}),n({})}},"Detect Face"),r.a.createElement("button",{onClick:function(){l(!0),S.models.predict("72c523807f93e18b431676fb9a58e6ad",{base64:a}).then((function(e){console.log("response at the  models",e),n(function(e){var t=e.outputs[0].data.regions.map((function(e){return e.data.concepts}));i(t);var n=e.outputs[0].data.regions.filter((function(e){return e.value>=.5})).map((function(e){return e.region_info.bounding_box}));c(n);var a=document.getElementById("inputImage"),r=a.naturalWidth,o=a.naturalHeight;return n.map((function(e){return{leftCol:e.left_col*r,topRow:e.top_row*o,rightCol:r-e.right_col*r,bottomRow:o-e.bottom_row*o}}))}(e)),l(!1)}),(function(e){console.log("There was an error",e)})),t({}),o(0)}},"Detect Apparels"))})),D=(n(382),Object(s.b)((function(e){return{boundingBox:e.box.boundingBox}}))((function(e){var t=e.width,n=e.height;return e.boundingBox.map((function(e){return r.a.createElement("div",{className:"bounding-box",key:e.top_row,style:{top:e.top_row*n,left:e.left_col*t+64,bottom:n-e.bottom_row*n,right:t-e.right_col*t+287}})}))}))),T=(n(383),Object(s.b)((function(e){var t=e.image.fileProperties,n=e.box;return{fileProperties:t,faceBoundary:n.faceBoundary,apparelBoundary:n.apparelBoundary}}))((function(e){var t=e.fileProperties,n=e.faceBoundary,a=e.apparelBoundary;return r.a.createElement("div",{className:""},r.a.createElement("img",{id:"inputImage",width:"500px",height:"500px",key:"".concat(t),src:"data:image/png;base64, ".concat(t),alt:"sample"}),n.length>0&&r.a.createElement(D,{width:"500",height:"500"}),a.length>0&&r.a.createElement(D,{width:"500",height:"500"}))}))),L=(n(384),Object(s.b)((function(e){var t=e.box;return{faceCount:t.faceCount,apparelsInfo:t.apparelsInfo,withSpinner:t.withSpinner}}),(function(e){return{toggleBox:function(){return e(v())},setFileProperties:function(t){return e(f(t))},setFaceBoundary:function(t){return e(O(t))},setApparelBoundary:function(t){return e(w(t))},numberOfFaces:function(t){return e(x(t))},setBoundingBox:function(t){return e(A(t))},setApparelsInfo:function(t){return e(_(t))},setWithSpinner:function(t){return e(P(t))}}}))((function(e){var t=e.faceCount,n=e.apparelsInfo,a=e.toggleBox,o=e.setFaceBoundary,c=e.setApparelBoundary,i=e.numberOfFaces,l=e.setFileProperties,u=e.setBoundingBox,s=e.setApparelsInfo,p=e.setWithSpinner,f=e.withSpinner;return r.a.createElement("div",{className:"frame"},r.a.createElement("div",{className:"close-frame"},r.a.createElement("button",{onClick:function(){p(!1),l(),a(),o({}),c({}),i(0),u({}),s({})}},"X")),r.a.createElement("div",{className:"image-frame"},r.a.createElement(T,null)),r.a.createElement("div",{className:"info-frame"},!t>0&!n.length>0&!1===f?r.a.createElement("h4",null,"Select one of the models below to start."):null,t>1&&r.a.createElement("span",null,"I have detected  ",t," faces"),1===t&&r.a.createElement("span",null,"I have detected  ",t," face"),!0===f?r.a.createElement("div",{className:"spinner"},r.a.createElement(N.a,{type:"ThreeDots",color:"#778899",secondaryColor:"#778899"})):n.length>0&&r.a.createElement("div",{className:"apparels-info"},r.a.createElement("h4",null,"Name",r.a.createElement("span",{className:"apparels-name"},n.map((function(e){return r.a.createElement("p",{key:e[0].value},e[0].name,":")})))),r.a.createElement("h4",null,"Probabilty",r.a.createElement("span",{className:"apparels-value"},n.map((function(e){return r.a.createElement("p",{key:e[0].value},Math.floor(100*e[0].value)," %")}))))),r.a.createElement(C,null)))}))),k=(n(385),{particles:{number:{value:100,density:{enable:!0,value_area:800}}}}),W=Object(s.b)((function(e){return{fileProperties:e.image.fileProperties,isBoxVisible:e.box.isBoxVisible}}),(function(e){return{setFileProperties:function(t){return e(f(t))},toggleBox:function(){return e(v())}}}))((function(e){e.fileProperties;var t=e.toggleBox,n=e.setFileProperties,a=e.isBoxVisible;return r.a.createElement("div",{className:"main"},r.a.createElement(j,null),a?r.a.createElement(L,null):r.a.createElement(u.a,{onDrop:function(e){fetch(e.map((function(e){return URL.createObjectURL(e)}))).then((function(e){return e.blob()})).then((function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){var e=t.result.split(",").pop();n(e)}})),t()},accept:"image/*"},(function(e){var t=e.getRootProps,n=e.getInputProps,a=e.isDragActive,o=e.isDragAccept,c=e.isDragReject,i=o?"accept":c?"reject":"";return r.a.createElement("div",t({className:"dropzone ".concat(i)}),r.a.createElement("input",n()),r.a.createElement("h2",null,"I CAN DETECT FACES & APPARELS IN AN IMAGE. GIVE ME A TRY"),r.a.createElement("span",null,a?"\ud83d\udcc2":"\ud83d\udcc1"),r.a.createElement("p",null,"Drag and drop an image, or click to start "))})),r.a.createElement(l.a,{className:"particles",params:k}))})),U=n(22),V=n(101),M=n.n(V),G=n(102),X=n(8),H={fileProperties:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(X.a)(Object(X.a)({},e),{},{fileProperties:t.payload});default:return e}},J={isBoxVisible:!1,faceBoundary:{},apparelBoundary:{},faceCount:0,apparelsInfo:{},apparelsLabel:[],boundingBox:{},withSpinner:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state at box reducer: ",e),t.type){case b:return Object(X.a)(Object(X.a)({},e),{},{isBoxVisible:!e.isBoxVisible});case m:return Object(X.a)(Object(X.a)({},e),{},{faceBoundary:t.payload});case d:return Object(X.a)(Object(X.a)({},e),{},{apparelBoundary:t.payload});case g:return Object(X.a)(Object(X.a)({},e),{},{faceCount:t.payload});case h:return Object(X.a)(Object(X.a)({},e),{},{apparelsInfo:t.payload});case E:return Object(X.a)(Object(X.a)({},e),{},{apparelsLabel:t.payload});case y:return Object(X.a)(Object(X.a)({},e),{},{boundingBox:t.payload});case B:return Object(X.a)(Object(X.a)({},e),{},{withSpinner:t.payload});default:return e}},K=Object(U.c)({image:Y,box:z}),$=[G.a,M.a],q=Object(U.d)(K,U.a.apply(void 0,$));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(386);c.a.render(r.a.createElement(s.a,{store:q},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.c127fcb7.chunk.js.map