{"version":3,"sources":["redux/image/image.types.js","redux/image/image.actions.js","redux/box/box.types.js","redux/box/box.actions.js","components/header/header.component.jsx","components/models-options/models-options.component.jsx","components/bounding-box/bounding-box.component.jsx","components/image-frame/image-frame.component.jsx","components/frame/frame.component.jsx","App.js","redux/image/image.reducer.js","redux/box/box.reducer.js","redux/root-reducer.js","redux/store.js","serviceWorker.js","index.js"],"names":["ImageActionTypes","setFileProperties","image","type","payload","BoxActionTypes","toggleBox","setFaceBoundary","box","setApparelBoundary","setFaceInfo","info","setBoundingBox","bounding","setApparelsInfo","setWithSpinner","spinner","Header","className","app","Clarifai","App","apiKey","connect","fileProperties","dispatch","facePostion","apparelPosition","number","onClick","models","predict","FACE_DETECT_MODEL","base64","then","response","data","faceNumber","outputs","regions","length","map","faces","region_info","bounding_box","document","getElementById","width","clientWidth","height","clientHeight","face","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","calculateFace","err","console","log","conceptsArray","concepts","apparels","naturalWidth","naturalHeight","apparel","calculateApparel","boundingBox","faceInfo","location","key","style","top","left","bottom","right","faceBoundary","apparelBoundary","id","src","alt","apparelsInfo","withSpinner","file","boundary","color","secondaryColor","value","name","Math","floor","particlesOptions","particles","density","enable","value_area","isBoxVisible","onDrop","acceptedFiles","fetch","URL","createObjectURL","res","blob","reader","FileReader","readAsDataURL","onloadend","base64String","result","split","pop","accept","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","additionalClass","params","INITIAL_STATE","imageReducer","state","action","apparelsLabel","boxReducer","combineReducers","middlewares","thunk","store","createStore","rootReducer","applyMiddleware","Boolean","window","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8a9487f4.chunk.js","sourcesContent":["export const ImageActionTypes = {\r\n\t'SET_FILE_PROPERTIES': 'SET_FILE_PROPERTIES',\r\n}\t\t","import { ImageActionTypes } from './image.types';\r\n\r\n\r\nexport const setFileProperties = image => ({\r\n\ttype: ImageActionTypes.SET_FILE_PROPERTIES,\r\n\tpayload: image\r\n})\r\n","export const BoxActionTypes = {\r\n\t'SET_FACE_BOUNDARY': 'SET_FACE_BOUNDARY',\r\n\t'SET_APPAREL_BOUNDARY': 'SET_APPAREL_BOUNDARY',\r\n\t'TOGGLE_BOX': 'TOGGLE_BOX',\r\n\t'SET_FACE_INFO':'SET_FACE_INFO',\r\n\t'SET_APPARELS_INFO': 'SET_APPARELS_INFO',\r\n\t'SET_APPARELS_LABEL':'SET_APPARELS_LABEL',\r\n\t'SET_BOUNDING_BOX': 'SET_BOUNDING_BOX',\r\n\t'SET_WITH_SPINNER': 'SET_WITH_SPINNER'\r\n}\t\t","import { BoxActionTypes } from './box.types'\r\n\r\nexport const toggleBox = () => ({\r\n\ttype: BoxActionTypes.TOGGLE_BOX\r\n})\r\n\r\nexport const setFaceBoundary = (box) => ({\r\n\ttype: BoxActionTypes.SET_FACE_BOUNDARY,\r\n\tpayload: box\r\n})\r\n\r\nexport const setApparelBoundary = (box) => ({\r\n\ttype: BoxActionTypes.SET_APPAREL_BOUNDARY,\r\n\tpayload: box\r\n})\r\n\r\nexport const setFaceInfo = (info) => ({\r\n\ttype: BoxActionTypes.SET_FACE_INFO,\r\n\tpayload: info\r\n})\r\n\r\nexport const setApparelsLabel = (labels) => ({\r\n\ttype: BoxActionTypes.SET_APPARELS_LABEL,\r\n\tpayload: labels\r\n})\r\n\r\nexport const setBoundingBox = (bounding) => ({\r\n\ttype: BoxActionTypes.SET_BOUNDING_BOX,\r\n\tpayload: bounding\r\n})\r\n\r\nexport const setApparelsInfo = (info) => ({\r\n\ttype: BoxActionTypes.SET_APPARELS_INFO,\r\n\tpayload: info\r\n})\r\n\r\n\r\nexport const setWithSpinner = (spinner) => ({\r\n\ttype: BoxActionTypes.SET_WITH_SPINNER,\r\n\tpayload: spinner\r\n})\r\n\r\n","import React from 'react';\r\n\r\nimport './header.styles.css';\r\n\r\nconst Header = ()=> (\r\n\t<div className ='header'>\r\n\t\t<h1>SMART BOX</h1>\r\n\t</div>\r\n\t);\r\n\r\nexport default Header;\r\n\r\n\r\n","import React from 'react';\r\n\r\nimport Clarifai from 'clarifai';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setFaceBoundary, setApparelBoundary, setFaceInfo, setBoundingBox, setApparelsInfo, setWithSpinner } from '../../redux/box/box.actions';\r\n\r\nimport './models-options.styles.css';\r\n\r\nconst app = new Clarifai.App({\r\n\tapiKey: '3433c425ee5242de9459ae5f670f07f7'\r\n\t});\r\n\r\nconst ModelsOptions = ({ setFaceBoundary, setApparelBoundary, fileProperties, setFaceInfo, setBoundingBox, setApparelsInfo, setWithSpinner  })=> {\r\n\r\n\t\tconst calculateApparel = (data) => {\r\n\t\t\tconst conceptsArray = data.outputs[0].data.regions.map(concepts => concepts.data.concepts);\r\n\t\t\tsetApparelsInfo(conceptsArray)\r\n\t\t\tconst outputs = data.outputs[0].data.regions.map(apparels => apparels.region_info.bounding_box);\r\n\t\t\tsetBoundingBox(outputs)\r\n\t\t\tconst image = document.getElementById(\"inputImage\");\r\n\t\t\tconst width = image.naturalWidth;\r\n\t\t\tconst height = image.naturalHeight;\r\n\t\t\tconst apparelsLoaction = outputs.map(apparel => { \r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tleftCol: apparel.left_col * width,\r\n\t\t\t\t\t\ttopRow: apparel.top_row * height,\r\n\t\t\t\t\t\trightCol: width -  apparel.right_col * width,\r\n\t\t\t\t\t\tbottomRow: height - apparel.bottom_row * height\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn apparelsLoaction;\r\n\t}\r\n\r\n\tconst calculateFace = (data) => {\r\n\t\t\tconst faceNumber = data.outputs[0].data.regions.length;\r\n\t\t\tsetFaceInfo(faceNumber);\r\n\t\t\tconst outputs = data.outputs[0].data.regions.map((faces) => faces.region_info.bounding_box);\r\n\t\t\tsetBoundingBox(outputs);\r\n\t\t\tconst image = document.getElementById(\"inputImage\");\r\n\t\t\tconst width = image.clientWidth;\r\n\t\t\tconst height = image.clientHeight;\r\n\t\t\tconst faceCordinates = outputs.map((face) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tleftCol: face.left_col * width,\r\n\t\t\t\t\t\ttopRow: face.top_row * height,\r\n\t\t\t\t\t\trightCol: width -  face.right_col * width,\r\n\t\t\t\t\t\tbottomRow: height - face.bottom_row * height,\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn faceCordinates;\r\n\t\t}\r\n\r\n\r\n\r\n\tconst detectFace = () => {\r\n   \t\tsetWithSpinner(true)\r\n\t\tapp.models.predict(Clarifai.FACE_DETECT_MODEL, {base64: fileProperties}).then(\r\n    \t(response) => {\r\n      \t\tsetFaceBoundary(calculateFace(response));\r\n      \t\tsetWithSpinner(false)\r\n\r\n    \t},\r\n    \t(err) => {\r\n      \t\tconsole.log('There was an error', err);\r\n    \t}\r\n  \t\t\t);\r\n  \t\tsetApparelsInfo({});\r\n\t\tsetApparelBoundary({});\r\n\t}\r\n\r\n\tconst detectApparels = () => {\r\n\t\tsetWithSpinner(true)\r\n  \t\tapp.models.predict('72c523807f93e18b431676fb9a58e6ad', {base64: fileProperties}).then(\r\n    \t(response) => {    \t\t\r\n      \t\tsetApparelBoundary(calculateApparel(response));\r\n      \t\tsetWithSpinner(false)\r\n\r\n    \t},\r\n    \t(err) => {\r\n      \t\tconsole.log('There was an error', err);\r\n    \t}\r\n  \t\t\t);\t\t\t\t\r\n\t\tsetFaceBoundary({});\r\n\t\tsetFaceInfo({})\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"models-button\">\r\n\t\t  <button onClick={detectFace}>Detect Face</button>\r\n  \t\t  <button onClick={detectApparels}>Detect Apparels</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({image: {fileProperties}}) => ({\r\n\tfileProperties\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tsetFaceBoundary: (facePostion) => dispatch(setFaceBoundary(facePostion)),\r\n\tsetApparelBoundary: (apparelPosition) => dispatch(setApparelBoundary(apparelPosition)),\r\n\tsetFaceInfo: (number) => dispatch(setFaceInfo(number)),\r\n\tsetApparelsInfo: (number) => dispatch(setApparelsInfo(number)),\r\n\tsetBoundingBox: (bounding) => dispatch(setBoundingBox(bounding)),\r\n\tsetWithSpinner: (spinner) => dispatch(setWithSpinner(spinner)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModelsOptions);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport './bounding-box.styles.css';\r\n\r\nconst BoundingBox = ({ boundingBox, faceInfo }) => {\r\n const image = document.getElementById('inputImage');\r\n const width = image.clientWidth;\r\n const height = image.clientHeight;\r\n\treturn (\r\n\t\tboundingBox.map(location => <div className='bounding-box' key={location.top_row} style={{ \r\n\t\t top: location.top_row * height,\r\n\t\t left: location.left_col * width ,\r\n\t\t bottom: height - location.bottom_row * height,\r\n\t\t right: width - location.right_col * width\r\n\t\t}} \r\n\t\t>\r\n\t\t\t<div className='transparent'/>\r\n\t\t\t{faceInfo > 0 ?\r\n\t\t\t\t(<label className='box-label' key={location.top_row} style={{bottom: height - ((height - location.bottom_row * height) + (location.top_row * height))}}>\r\n\t\t\t\t\tface\r\n\t\t\t\t</label>\r\n\t\t\t\t):(\r\n\t\t\t\tnull\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</div>)\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = ({box: {boundingBox, faceInfo}}) => ({\r\n\tboundingBox,\r\n\tfaceInfo\r\n})\r\n\r\nexport default connect(mapStateToProps)(BoundingBox);\r\n","import React from 'react';\r\n\r\nimport BoundingBox from '../bounding-box/bounding-box.component.jsx'\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport './image-frame.styles.css';\r\n\r\nconst ImageFrame = ({ fileProperties, faceBoundary, apparelBoundary })=> (\r\n\t<div className ='image-div'>\r\n\t\t\t<img id=\"inputImage\" \r\n\t\t\t\t\twidth = '500px'\r\n\t\t\t\t\theight = '500px'\r\n\t\t\t\t\tkey={`${fileProperties}`} \r\n\t\t\t\t\tsrc={`data:image/png;base64, ${fileProperties}`} \r\n\t\t\t\t\talt =\"sample\"/>\r\n\t\t\t\t\t{faceBoundary.length > 0 && \r\n\t\t\t\t\t\t<BoundingBox />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t{apparelBoundary.length > 0 && \r\n\t\t\t\t\t<BoundingBox />\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t</div>\r\n\t);\r\nconst mapStateToProps = ({image: {fileProperties}, box:{faceBoundary, apparelBoundary} }) => ({\r\n\tfileProperties,\r\n\tfaceBoundary,\r\n\tapparelBoundary\r\n})\r\n\r\nexport default connect(mapStateToProps)(ImageFrame);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport { setFaceBoundary, setApparelBoundary, setFaceInfo, setBoundingBox, setApparelsInfo, toggleBox, setWithSpinner } from '../../redux/box/box.actions';\r\nimport { setFileProperties } from '../../redux/image/image.actions.js';\r\n\r\nimport ModelsOptions from '../models-options/models-options.component.jsx';\r\nimport ImageFrame from '../image-frame/image-frame.component';\r\n\r\nimport './frame.styles.css';\r\n\r\n\r\nconst Frame = ({ faceInfo, apparelsInfo, toggleBox, setFaceBoundary, setApparelBoundary, setFaceInfo, setFileProperties, setBoundingBox, setApparelsInfo, setWithSpinner, withSpinner })=> {\r\n\t\r\n\tconst closeFrame = () => {\r\n\t\tsetWithSpinner(false);\r\n\t\tsetFileProperties();\r\n\t\ttoggleBox();\r\n\t\tsetFaceBoundary({});\r\n\t\tsetApparelBoundary({});\r\n\t\tsetFaceInfo({});\r\n\t\tsetBoundingBox({});\r\n\t\tsetApparelsInfo({});\r\n\t}\r\n\treturn (\r\n\t\t<div className ='frame'>\r\n\t\t\t\t<div className =\"close-frame\">\r\n\t\t\t\t\t<button onClick={closeFrame}>X</button>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div className =\"image-frame\">\r\n\t\t\t\t\t<ImageFrame />\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div className =\"info-frame\">\r\n\t\t\t\t\t\t{!faceInfo > 0 & !apparelsInfo.length > 0 & withSpinner === false ?\r\n\t\t\t\t\t\t\t<h4>Select one of the models below to start.</h4>: null\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t\t{faceInfo > 1 ? \r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t<span>i have detected {faceInfo} faces</span>\r\n\t\t\t\t\t\t\t\t):(faceInfo === 1 &&\r\n\t\t\t\t\t\t\t\t<span>i have detected {faceInfo} face</span>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{withSpinner === true ? (\r\n\t\t\t\t\t\t\t<div className= 'spinner'>\r\n\t\t\t\t\t\t\t      <Loader type=\"ThreeDots\" color=\"#778899\" secondaryColor = '#778899'  />\r\n\t\t\t\t\t\t   </div>\r\n\t\t\t\t\t\t\t    ) : (\r\n\t\t\t\t\t\t\t    apparelsInfo.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t<div className = 'apparels-info'>\r\n\t\t\t\t\t\t\t\t\t\t<h4>Name\r\n\t\t\t\t\t\t\t\t\t\t\t<span className = 'apparels-name'>\r\n\t\t\t\t\t\t\t\t\t\t\t{apparelsInfo.map((concepts) => \r\n\t\t\t\t\t\t\t\t\t\t\t\t<p key = {concepts[0].value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{concepts[0].name}:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h4>Probabilty\r\n\t\t\t\t\t\t\t\t\t\t\t<span className = 'apparels-value'>\r\n\t\t\t\t\t\t\t\t\t\t\t{apparelsInfo.map((concepts) =>\r\n\t\t\t\t\t\t\t\t\t\t\t <p key = {concepts[0].value}>\r\n\t\t\t\t\t\t\t\t\t\t\t {Math.floor(concepts[0].value * 100)} %</p>\r\n\t\t\t\t\t\t\t\t\t\t\t )}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t    )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<ModelsOptions />\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t);}\r\nconst mapStateToProps = ({box:{faceInfo, apparelsInfo, withSpinner} }) => ({\r\n\tfaceInfo,\r\n\tapparelsInfo,\r\n\twithSpinner \r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\ttoggleBox: () => dispatch(toggleBox()),\r\n\tsetFileProperties: (file) => dispatch(setFileProperties(file)),\r\n\tsetFaceBoundary: (boundary) => dispatch(setFaceBoundary(boundary)),\r\n\tsetApparelBoundary: (boundary) => dispatch(setApparelBoundary(boundary)),\r\n\tsetFaceInfo: (number) => dispatch(setFaceInfo(number)),\r\n\tsetBoundingBox: (bounding) => dispatch(setBoundingBox(bounding)),\r\n\tsetApparelsInfo: (info) => dispatch(setApparelsInfo(info)),\r\n\tsetWithSpinner: (spinner) => dispatch(setWithSpinner(spinner)),\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Frame);","import React from 'react';\r\n\r\nimport Particles from 'react-particles-js';\r\nimport Dropzone from 'react-dropzone';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setFileProperties } from './redux/image/image.actions';\r\nimport { toggleBox } from './redux/box/box.actions';\r\nimport Header from './components/header/header.component.jsx';\r\n// import Modal from './components/modal/modal.component';\r\nimport Frame from './components/frame/frame.component';\r\nimport './App.css';\r\n \r\nconst particlesOptions = {\r\n\tparticles: {\r\n\t\tnumber: {\r\n\t\t\tvalue: 100,\r\n\t\t\tdensity: {\r\n\t\t\t\tenable: true,\r\n\t\t\t\tvalue_area: 800\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst App = ({ fileProperties, toggleBox, setFileProperties, isBoxVisible }) => {\r\n\r\n\tconst handleDrop = acceptedFiles => {\r\n\t\tfetch(acceptedFiles.map(file => URL.createObjectURL(file)))\r\n\t\t.then(res => res.blob())\r\n\t\t.then(blob => {\r\n\t\t    var reader = new FileReader(); \r\n\t\t    reader.readAsDataURL(blob); \r\n\t\t    reader.onloadend = function () {\r\n\t\t    var base64String = reader.result.split(',').pop(); \r\n\t\t    setFileProperties(base64String);\r\n\t\t}})\r\n\t\ttoggleBox();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"main\">\t\r\n\t\t\t<Header/>\r\n\t\t\t{ isBoxVisible ?\r\n\t\t\t\t<Frame />\r\n\t\t\t:\r\n\t\t\t<Dropzone  onDrop={handleDrop} accept=\"image/*\">\r\n\t\t        {({ getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject}) => {\r\n\t\t          // additional CSS depends on dragging status\r\n\t\t          const additionalClass = isDragAccept ? \"accept\" : isDragReject ? \"reject\" : \"\";\r\n\t\t          return (\r\n\t\t            <div{...getRootProps({className: `dropzone ${additionalClass}` })} >\r\n\t\t\t              <input {...getInputProps()} />\r\n\t\t\t              <h2>I CAN DETECT FACES & APPARELS IN AN IMAGE. GIVE ME A TRY</h2>\r\n\t\t\t              <span>{isDragActive ? \"📂\" : \"📁\"}</span>\r\n\t\t\t              <p>Drag and drop an image, or click to start </p>\r\n\t\t            </div>\r\n\t\t          );\r\n\t\t       }}\r\n     \t    </Dropzone>\r\n\t\t\t}\r\n\t\t\t<Particles className=\"particles\" params={particlesOptions}/>\r\n\t\t</div>\r\n\t);\t\r\n}\r\n\r\nconst mapStateToProps = ({image: { fileProperties }, box: { isBoxVisible }}) => ({\r\n\tfileProperties,\r\n\tisBoxVisible,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tsetFileProperties: (image) => dispatch(setFileProperties(image)),\r\n\ttoggleBox: () => dispatch(toggleBox())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import { ImageActionTypes } from './image.types';\r\n\r\nconst INITIAL_STATE = {\r\n\tfileProperties: '',\r\n}\r\nconst imageReducer = (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ImageActionTypes.SET_FILE_PROPERTIES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfileProperties: action.payload\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nexport default imageReducer;","import { BoxActionTypes } from './box.types'\r\n\r\nconst INITIAL_STATE = {\r\n\tisBoxVisible: false,\r\n\tfaceBoundary: {},\r\n\tapparelBoundary: {},\r\n\tfaceInfo: {},\r\n\tapparelsInfo: {},\r\n\tapparelsLabel: [],\r\n\tboundingBox: {},\r\n\twithSpinner: false\r\n}\r\n\r\nconst boxReducer = (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase BoxActionTypes.TOGGLE_BOX:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisBoxVisible: !state.isBoxVisible\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_FACE_BOUNDARY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfaceBoundary: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_APPAREL_BOUNDARY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapparelBoundary: action.payload\r\n\t\t\t}\t\t\r\n\t\tcase BoxActionTypes.SET_FACE_INFO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfaceInfo: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_APPARELS_INFO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapparelsInfo: action.payload\r\n\t\t\t}\t\t\t\r\n\t\tcase BoxActionTypes.SET_APPARELS_LABEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapparelsLabel: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_BOUNDING_BOX:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tboundingBox: action.payload\r\n\t\t\t}\r\n\t\tcase BoxActionTypes.SET_WITH_SPINNER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\twithSpinner: action.payload\r\n\t\t\t}\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nexport default boxReducer;","import { combineReducers } from 'redux';\r\nimport imageReducer from './image/image.reducer';\r\nimport boxReducer from './box/box.reducer';\r\n\r\nexport default combineReducers({\r\n\timage: imageReducer,\r\n\tbox: boxReducer\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './root-reducer';\r\n\r\nconst middlewares = [thunk];\r\n\r\nif (process.env.NODE_ENV === 'development' ){\r\n\tmiddlewares.push(logger);\r\n}\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\n\nimport store from './redux/store';\n\nimport * as serviceWorker from './serviceWorker';\nimport 'tachyons';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App/>\n\t</Provider>\n\t, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();  \n "],"sourceRoot":""}